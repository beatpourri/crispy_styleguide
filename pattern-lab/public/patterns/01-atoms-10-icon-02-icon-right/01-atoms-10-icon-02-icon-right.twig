{#
/**
 * Available variables:
 * tag: default: "div" - can be changed to span
 * - icon_basename - the base block class name
 * - icon_name - the svg filename -
 * - icon_modifiers- modifierclasses
 * - icon_aria: default value is: aria-hidden - if set to "no_aria": aria-hidden="true" will not be used.
 *
 * Usage:
 *
 * {% include "@atoms/10-icon/01-icon.twig"
 * with {
 * "icon_name": "filename_of_your_svg",
 * }
 * %}
 *
 * {% include "@atoms/10-icon/01-icon.twig"
 * with {
 * "icon_name": "filename_of_your_svg",
 * "icon_modifiers": "after",
 * }
 * %}
 */
#}
{% set tag = tag|default('div') %}
{% set icon_aria %}
    {%- if icon_aria != 'no_aria'-%}aria-hidden="true"{%- endif -%}
{% endset %}

{% set icon_basename = icon_basename|default('icon') %}
{# change "icon_name" to the proper svg filename  #}
{% set icon_name = icon_name|default('') -%}

{%- set icn_button_modif -%}
    {% spaceless %}
    {{- button_modifier|replace({'button--': ""}) -}}
    {% endspaceless %}
{%- endset -%}

{% set icon_button_variation %}
    {%- if icn_button_modif is not empty %}{{ icon_basename -}}--{{- icn_button_modif -}} {%- endif %}
{% endset %}

{% set icon_modifier %}{% for iconitem in icon_modifiers %}{{icon_basename }}--{{ iconitem }} {% endfor %}{% endset %}

{% set icon_classes %}{% if icon_basename %}class="{{icon_basename }}{% if icon_name %} {{icon_basename }}__{{ icon_name }}{% endif %}{% if icon_modifiers %} {{ icon_modifier }}{% endif %}{% if icon_button_variation %}{{ icon_button_variation }}{%- endif %}"{% endif %}{% endset %}

{% spaceless %}
    <{{ tag }} {{ icon_classes }}{{ icon_aria }}>
    {% block icon %}
        {% if icon_name %}
            {% include '@atoms/10-icon/svg/' ~ icon_name ~ '.svg' %}
        {% endif %}
    {% endblock %}
    </{{ tag }}>
{% endspaceless %}