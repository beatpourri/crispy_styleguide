{#
/**
 * Available variables:
 * - heading_level - the heading level 1-6 (produces h1, h2, etc.)
 * - heading_size - the size of the heading
 * - heading_base_class - the base class - default 'heading'
 * - heading_modifiers - modifiers
 * - heading - content of the heading
 * - heading_url - (optional) url
 * - heading_link_attributes - key/value attributes to pass to link
 * - heading_link_base_class - link base class
 * - heading_link_element_class
 * - heading_link_modifiers - link modifiers
 *
 * Usage:
 {% include "@atoms/00-headings/01-heading.twig"
    with {
    "heading_level": 1,
    "heading_size": "medium",
    "heading_content": label,
    "heading_url": url,
    "heading_modifiers": [node.bundle, 'test'],
    }
 * %}
 *
 */
#}
{% set heading_base_class = heading_base_class|default('heading') %}
{% set heading_size = heading_size|default('') -%}
{#{% set heading_modifiers = heading_modifiers|default('') %}#}
{% set heading_link_base_class = heading_link_base_class|default('') %}
{% set heading_link_element_class = heading_link_element_class|default('') %}
{% set heading_link_modifiers = heading_link_modifiers|default('') %}

{% set heading_modifiers = heading_modifiers|default([]) %}
{% if heading_url %}
    {% set heading_modifiers = heading_modifiers|merge(['link']) %}
{% else %}
    {% set heading_modifiers = heading_modifiers |default([]) %}
{% endif %}


{% set heading_modifier %}{% for modifieritem in heading_modifiers %}{{ heading_base_class }}--{{ modifieritem }} {% endfor %}{% endset %}

{% set heading_classes %}{% if heading_base_class %}class="{{ heading_base_class }}{% if heading_size %} {{ heading_base_class }}__{{ heading_size }}{% endif%}{% if heading_modifiers %} {{ heading_modifier }}{% endif %}"{% endif %}{% endset %}

<h{{ heading_level }} {{ heading_classes }}>
  {% if heading_url %}
    {% include "@atoms/02-link/link/01-link.twig" with {
      "link_content": heading_content,
      "link_url": heading_url,
      "link_target_value": '_blank',
      "link_base_class": heading_link_base_class|default(link_base_class),
      "link_element_class": heading_link_element_class|default(heading_base_class),
      "link_modifiers": heading_link_modifiers|default(heading_link_modifiers),
    } %}
  {% else %}
      {{ heading_content }}
  {% endif %}
</h{{ heading_level }}>
